<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>JS Ultimate Logic Decoder - Markdown Edition</title>
    <style>
        :root { --main: #0f172a; --accent: #2563eb; --data: #d946ef; }
        body { font-family: "Hiragino Kaku Gothic ProN", Meiryo, sans-serif; background: #f8fafc; color: var(--main); padding: 20px; line-height: 1.4; }
        .container { max-width: 1200px; margin: 0 auto; background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); }
        .stats { font-size: 1.1rem; font-weight: bold; color: var(--accent); margin-bottom: 15px; border-bottom: 2px solid #eee; padding-bottom: 5px; }
        textarea { width: 100%; padding: 15px; border: 2px solid var(--main); border-radius: 8px; font-family: monospace; font-size: 13px; margin-bottom: 20px; box-sizing: border-box; }
        #jsInput { height: 150px; }
        #mdOutput { height: 500px; background: #f1f5f9; border-color: var(--accent); white-space: pre; }
        h2 { font-size: 1rem; margin: 0 0 10px 0; color: #475569; }
    </style>
</head>
<body>
<div class="container">
    <div class="stats">è§£æã‚¨ãƒ³ã‚¸ãƒ³ï¼š<span id="count">0</span> ãƒ­ã‚¸ãƒƒã‚¯æ¤œå‡º</div>
    
    <h2>JSå…¥åŠ›é ˜åŸŸ</h2>
    <textarea id="jsInput" placeholder="JavaScriptã‚³ãƒ¼ãƒ‰ã‚’è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„..."></textarea>
    
    <h2>Markdownå½¢å¼å‡ºåŠ›ï¼ˆã‚³ãƒ”ãƒ¼ç”¨ï¼‰</h2>
    <textarea id="mdOutput" readonly placeholder="ã“ã“ã«Markdownå½¢å¼ã®è§£æçµæœãŒè¡¨ç¤ºã•ã‚Œã¾ã™..."></textarea>
</div>

<script>
const P = [
    // --- 1-20: é€šä¿¡ãƒ»éåŒæœŸ ---
    { reg: /fetch\(['"]([^'"]+)['"]\)/, cat: "comm", title: "é€šä¿¡ï¼šãƒ‡ãƒ¼ã‚¿å–å¾—", body: (m) => `å¤–éƒ¨ã® \`${m[1]}\` ã‚’å‘¼ã³å‡ºã—ã¦ã€æƒ…å ±ã‚’èª­ã¿å–ã‚Šã¾ã™ã€‚` },
    { reg: /async\s+(\w+)/, cat: "comm", title: "éåŒæœŸï¼šä¸¦è¡Œå‡¦ç†", body: (m) => `é–¢æ•° \`${m[1]}\` ã‚’ã€ä»–ã®å‡¦ç†ã‚’æ­¢ã‚ãšã«è£å´ã§é€²ã‚ã¾ã™ã€‚` },
    { reg: /await\s+/, cat: "comm", title: "å¾…æ©Ÿï¼šå®Œäº†å¾…ã¡", body: () => `ãƒãƒƒãƒˆã®å¿œç­”å¾…ã¡ã§ã™ã€‚ãƒ‡ãƒ¼ã‚¿ãŒå±Šãã¾ã§ã€ã“ã®è¡Œã§ä¸€æ™‚åœæ­¢ã—ã¾ã™ã€‚` },
    { reg: /JSON\.parse\(([^)]+)\)/, cat: "comm", title: "ç¿»è¨³ï¼šãƒ‡ãƒ¼ã‚¿å¾©å…ƒ", body: (m) => `æ–‡å­—åˆ— \`${m[1]}\` ã‚’ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒ ãŒã„ã˜ã‚Œã‚‹å½¢å¼ã«æˆ»ã—ã¾ã™ã€‚` },
    { reg: /JSON\.stringify\(([^)]+)\)/, cat: "comm", title: "å¤‰æ›ï¼šé€ä¿¡æº–å‚™", body: (m) => `ãƒ‡ãƒ¼ã‚¿ã‚’ã€ãƒãƒƒãƒˆé€ä¿¡ç”¨ã®é•·ã„æ–‡å­—åˆ—ã«å¤‰æ›ã—ã¾ã™ã€‚` },
    { reg: /encodeURIComponent\(([^)]+)\)/, cat: "comm", title: "å®‰å…¨ï¼šURLæ–‡å­—å¤‰æ›", body: (m) => `æ—¥æœ¬èªãªã©ã‚’URLãŒå£Šã‚Œãªã„è¨˜å·ã«å¤‰æ›ã—ã¾ã™ã€‚` },
    { reg: /decodeURIComponent\(([^)]+)\)/, cat: "comm", title: "å¾©å…ƒï¼šURLæ–‡å­—è§£é™¤", body: () => `URLç”¨ã®ç‰¹æ®Šè¨˜å·ã‚’ã€å…ƒã®èª­ã¿ã‚„ã™ã„è¨€è‘‰ã«æˆ»ã—ã¾ã™ã€‚` },
    { reg: /\.then\(/, cat: "comm", title: "æ¬¡ä½œï¼šæˆåŠŸå¾Œã®å‹•ã", body: () => `é€šä¿¡æˆåŠŸå¾Œã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’äºˆç´„ã—ã¾ã™ã€‚` },
    { reg: /\.catch\(/, cat: "comm", title: "é˜²è¡›ï¼šå¤±æ•—ã¸ã®å‚™ãˆ", body: () => `å¤±æ•—ã—ãŸæ™‚ã®äºˆå‚™ãƒ—ãƒ©ãƒ³ã‚’ç™ºå‹•ã•ã›ã¾ã™ã€‚` },
    { reg: /XMLHttpRequest/, cat: "comm", title: "æ—§å¼ï¼šé€šä¿¡", body: () => `å¤é¢¨ãªæ–¹æ³•ã§ãƒãƒƒãƒˆã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–ã£ã¦ãã¾ã™ã€‚` },
    { reg: /new\s+Promise/, cat: "comm", title: "ç´„æŸï¼šéåŒæœŸã®ç®±", body: () => `ã€Œã„ã¤ã‹çµ‚ã‚ã‚‹ã€å‡¦ç†ã®äºˆç´„ç¥¨ã‚’ä½œã‚Šã¾ã™ã€‚` },
    { reg: /AbortController/, cat: "comm", title: "ä¸­æ–­ï¼šé€šä¿¡ã‚­ãƒ£ãƒ³ã‚»ãƒ«", body: () => `é€”ä¸­ã§é€šä¿¡ã‚’å¼·åˆ¶çš„ã«ã‚„ã‚ã•ã›ã¾ã™ã€‚` },
    { reg: /blob/, cat: "comm", title: "å·¨å¤§ï¼šãƒ‡ãƒ¼ã‚¿å¡Š", body: () => `ç”»åƒç­‰ã®ç”Ÿã®ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‡ãƒ¼ã‚¿ã‚’æ‰±ã„ã¾ã™ã€‚` },
    { reg: /FormData/, cat: "comm", title: "é€ä¿¡ï¼šå…¥åŠ›ã¾ã¨ã‚", body: () => `è¤‡æ•°ã®å…¥åŠ›ã‚’è·é€ ã‚Šã—ã¦ä¸€æ°—ã«é€ã‚Œã‚‹å½¢ã«ã—ã¾ã™ã€‚` },
    { reg: /headers/, cat: "comm", title: "é€šä¿¡ï¼šãƒ¡ã‚¿æƒ…å ±", body: () => `é€šä¿¡ç›¸æ‰‹ã«ã€Œã©ã‚“ãªãƒ‡ãƒ¼ã‚¿ã‹ã€ã‚’ä¼ãˆã‚‹ä»˜ç®‹ã‚’è²¼ã‚Šã¾ã™ã€‚` },
    { reg: /POST|GET|PUT|DELETE/, cat: "comm", title: "æ‰‹æ³•ï¼šé€šä¿¡ã®ç¨®é¡", body: (m) => `\`${m[0]}\` ã¨ã„ã†æ–¹æ³•ã§é€šä¿¡ã‚’ä¾é ¼ã—ã¾ã™ã€‚` },
    { reg: /cache\s*:\s*['"]([^'"]+)['"]/, cat: "comm", title: "è¨˜æ†¶ï¼šé€šä¿¡ã‚­ãƒ£ãƒƒã‚·ãƒ¥", body: (m) => `ãƒ‡ãƒ¼ã‚¿ã®ä½¿ã„å›ã—è¨­å®šã‚’ \`${m[1]}\` ã«ã—ã¾ã™ã€‚` },
    { reg: /mode\s*:\s*['"]cors['"]/, cat: "comm", title: "é€šä¿¡ï¼šã‚¯ãƒ­ã‚¹ãƒ‰ãƒ¡ã‚¤ãƒ³", body: () => `åˆ¥ã‚µã‚¤ãƒˆã®ãƒ‡ãƒ¼ã‚¿å–å¾—è¨±å¯è¨¼ã‚’æç¤ºã—ã¾ã™ã€‚` },
    { reg: /ws:\/\/|wss:\/\//, cat: "comm", title: "æ¥ç¶šï¼šãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ", body: () => `å¸¸æ™‚æ¥ç¶šã®å°‚ç”¨é“è·¯ï¼ˆWebSocketï¼‰ã‚’ä½œã‚Šã¾ã™ã€‚` },
    { reg: /credentials/, cat: "comm", title: "èªè¨¼ï¼šCookieé€ä¿¡", body: () => `èªè¨¼è¨¼æ˜æ›¸ã‚’æ·»ãˆã¦é€šä¿¡ã—ã¾ã™ã€‚` },

    // --- 21-80: DOMãƒ»ç”»é¢æ“ä½œ ---
    { reg: /\.getElementById\(['"]([^'"]+)['"]\)/, cat: "dom", title: "æ¨™çš„ï¼šIDç‰¹å®š", body: (m) => `åå‰ãŒ \`${m[1]}\` ã®éƒ¨å“ã‚’ç‹™ã„æ’ƒã¡ã§è¦‹ã¤ã‘ã¾ã™ã€‚` },
    { reg: /\.querySelector\(['"]([^'"]+)['"]\)/, cat: "dom", title: "æ¨™çš„ï¼šCSSæŒ‡å®š", body: (m) => `\`${m[1]}\` ã¨ã„ã†ç‰¹å¾´ã®éƒ¨å“ã‚’æ•ã¾ãˆã¾ã™ã€‚` },
    { reg: /\.querySelectorAll\(['"]([^'"]+)['"]\)/, cat: "dom", title: "æ¨™çš„ï¼šä¸€æ‹¬æŒ‡å®š", body: (m) => `\`${m[1]}\` ã«å½“ã¦ã¯ã¾ã‚‹éƒ¨å“ã‚’å…¨ã¦ãƒªã‚¹ãƒˆã«ã—ã¾ã™ã€‚` },
    { reg: /\.classList\.add\(['"]([^'"]+)['"]\)/, cat: "dom", title: "æ¼”å‡ºï¼šè¿½åŠ ", body: (m) => `\`${m[1]}\` ã‚¯ãƒ©ã‚¹ã‚’ä»˜ã‘ã¦è¦‹ãŸç›®ã‚’å¤‰ãˆã¾ã™ã€‚` },
    { reg: /\.classList\.remove\(['"]([^'"]+)['"]\)/, cat: "dom", title: "æ¼”å‡ºï¼šè§£é™¤", body: (m) => `\`${m[1]}\` ã‚¯ãƒ©ã‚¹ã®è¨­å®šã‚’å¤–ã—ã¾ã™ã€‚` },
    { reg: /\.classList\.toggle\(['"]([^'"]+)['"]\)/, cat: "dom", title: "æ¼”å‡ºï¼šåˆ‡æ›¿", body: (m) => `\`${m[1]}\` ã®çŠ¶æ…‹ã‚’ã‚¹ã‚¤ãƒƒãƒã®ã‚ˆã†ã«åˆ‡ã‚Šæ›¿ãˆã¾ã™ã€‚` },
    { reg: /\.style\.display\s*=\s*['"]([^'"]+)['"]/, cat: "dom", title: "è¡¨ç¤ºï¼šçŠ¶æ…‹", body: (m) => `éƒ¨å“ã‚’ \`${m[1]}\` ã«ã—ã¦ã€ç‰©ç†çš„ã«æ¶ˆã—ãŸã‚Šå‡ºã—ãŸã‚Šã—ã¾ã™ã€‚` },
    { reg: /\.style\.opacity\s*=\s*([^;]+)/, cat: "dom", title: "è¡¨ç¤ºï¼šé€æ˜åº¦", body: (m) => `é€ã‘å…·åˆã‚’ \`${m[1]}\` ã«è¨­å®šã—ã¾ã™ã€‚` },
    { reg: /\.style\.visibility\s*=\s*['"]([^'"]+)['"]/, cat: "dom", title: "è¡¨ç¤ºï¼šéš è”½", body: () => `å ´æ‰€ã¯ãã®ã¾ã¾ã§ã€å§¿ã ã‘é€æ˜ã«ã—ã¦éš ã—ã¾ã™ã€‚` },
    { reg: /\.innerHTML\s*=\s*([^;]+)/, cat: "dom", title: "æ›´æ–°ï¼šHTML", body: () => `ã‚¿ã‚°ã”ã¨ä¸­èº«ã‚’å…¥ã‚Œæ›¿ãˆã¦ä½œã‚Šå¤‰ãˆã¾ã™ã€‚` },
    { reg: /\.textContent\s*=\s*([^;]+)/, cat: "dom", title: "æ›´æ–°ï¼šæ–‡å­—", body: () => `ç´”ç²‹ãªæ–‡å­—ã ã‘ã‚’æ›¸ãæ›ãˆã¾ã™ã€‚` },
    { reg: /document\.createElement\(['"]([^'"]+)['"]\)/, cat: "dom", title: "å‰µé€ ï¼šè¦ç´ ", body: (m) => `æ–°ã—ã„ \`<${m[1]}>\` éƒ¨å“ã‚’ä½œã‚Šå‡ºã—ã¾ã™ã€‚` },
    { reg: /\.appendChild\(([^)]+)\)/, cat: "dom", title: "åˆä½“ï¼šæŒ¿å…¥", body: () => `å­è¦ç´ ã¨ã—ã¦ä¸­ã«çµ„ã¿è¾¼ã¿ã¾ã™ã€‚` },
    { reg: /\.removeChild\(([^)]+)\)/, cat: "dom", title: "å‰Šé™¤ï¼šæ’é™¤", body: () => `éƒ¨å“ã‚’å¼•ãå‰¥ãŒã—ã¦å®Œå…¨ã«æ¶ˆã—ã¾ã™ã€‚` },
    { reg: /\.setAttribute\(['"]([^'"]+)['"]\s*,\s*([^)]+)\)/, cat: "dom", title: "è¨­å®šï¼šå±æ€§", body: (m) => `å±æ€§ \`${m[1]}\` ã«å€¤ã‚’æ›¸ãè¾¼ã¿ã¾ã™ã€‚` },
    { reg: /\.getAttribute\(['"]([^'"]+)['"]\)/, cat: "dom", title: "å–å¾—ï¼šå±æ€§", body: (m) => `å±æ€§ \`${m[1]}\` ã®å€¤ã‚’èª¿ã¹ã¾ã™ã€‚` },
    { reg: /\.focus\(\)/, cat: "dom", title: "æ“ä½œï¼šé›†ä¸­", body: () => `å…¥åŠ›æ¬„ã‚’ä»Šã™ãæ‰“ã¦ã‚‹çŠ¶æ…‹ã«ã—ã¾ã™ã€‚` },
    { reg: /\.blur\(\)/, cat: "dom", title: "æ“ä½œï¼šé›¢è„±", body: () => `å…¥åŠ›æ¬„ã‹ã‚‰ã‚«ãƒ¼ã‚½ãƒ«ã‚’è¿½ã„å‡ºã—ã¾ã™ã€‚` },
    { reg: /\.click\(\)/, cat: "dom", title: "è‡ªå‹•ï¼šæŠ¼ä¸‹", body: () => `ãƒœã‚¿ãƒ³ã‚’å‹æ‰‹ã«ãƒãƒãƒƒã¨æŠ¼ã—ã¾ã™ã€‚` },
    { reg: /\.value\s*=\s*([^;]+)/, cat: "dom", title: "å…¥åŠ›ï¼šä¸Šæ›¸ã", body: () => `å…¥åŠ›æ¬„ã®ä¸­èº«ã‚’å‹æ‰‹ã«å¤‰æ›´ã—ã¾ã™ã€‚` },
    { reg: /window\.scrollTo\(([^)]+)\)/, cat: "dom", title: "ç§»å‹•ï¼šã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«", body: () => `ãƒšãƒ¼ã‚¸ã‚’æŒ‡å®šä½ç½®ã¾ã§å‹•ã‹ã—ã¾ã™ã€‚` },
    { reg: /getBoundingClientRect/, cat: "dom", title: "ä½ç½®ï¼šåº§æ¨™è¨ˆç®—", body: () => `ç”»é¢ä¸Šã®ä½ç½®ã‚„å¤§ãã•ã‚’ãƒŸãƒªå˜ä½ã§æ¸¬ã‚Šã¾ã™ã€‚` },
    { reg: /canvas\.getContext\(['"]([^'"]+)['"]\)/, cat: "dom", title: "æç”»ï¼šã‚­ãƒ£ãƒ³ãƒã‚¹", body: () => `çµµã‚’æããŸã‚ã®æº–å‚™ã‚’ã—ã¾ã™ã€‚` },
    { reg: /drawImage\(/, cat: "dom", title: "æç”»ï¼šç”»åƒè²¼ä»˜", body: () => `å†™çœŸã‚’ã‚­ãƒ£ãƒ³ãƒã‚¹ã«è²¼ã‚Šä»˜ã‘ã¾ã™ã€‚` },
    { reg: /fillRect\(/, cat: "dom", title: "æç”»ï¼šå¡—ã‚Šã¤ã¶ã—", body: () => `ç¯„å›²ã‚’è‰²ã§å¡—ã‚Šã¤ã¶ã—ã¾ã™ã€‚` },
    { reg: /\.addEventListener\(['"]([^'"]+)['"]/, cat: "dom", title: "ç›£è¦–ï¼šæ“ä½œ", body: (m) => `ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒ \`${m[1]}\` ã™ã‚‹ã®ã‚’å¾…ã¡æ§‹ãˆã¾ã™ã€‚` },
    { reg: /removeEventListener/, cat: "dom", title: "çµ‚äº†ï¼šç›£è¦–è§£é™¤", body: () => `æ“ä½œã®ç›£è¦–ã‚’ã‚„ã‚ã¾ã™ã€‚` },
    { reg: /transitionend/, cat: "dom", title: "ã‚¢ãƒ‹ãƒ¡ï¼šçµ‚äº†æ¤œçŸ¥", body: () => `æ¼”å‡ºãŒçµ‚ã‚ã£ãŸç¬é–“ã‚’æ‰ãˆã¾ã™ã€‚` },
    { reg: /requestAnimationFrame/, cat: "dom", title: "æ»‘ã‚‰ã‹ï¼šæç”»æ›´æ–°", body: () => `æ»‘ã‚‰ã‹ãªã‚¢ãƒ‹ãƒ¡ã‚’ä½œã‚Šã¾ã™ã€‚` },
    { reg: /stopImmediatePropagation/, cat: "dom", title: "å°é–ï¼šé€£é–åœæ­¢", body: () => `ã‚¤ãƒ™ãƒ³ãƒˆã®é€šçŸ¥é€£é–ã‚’é˜»æ­¢ã—ã¾ã™ã€‚` },

    // --- 81-120: æ•°å­¦ãƒ»ãƒ­ã‚¸ãƒƒã‚¯ ---
    { reg: /%\s*(\d+)\s*===\s*0/, cat: "math", title: "å€æ•°ï¼šåˆ¤å®š", body: (m) => `\`${m[1]}\` ã§å‰²ã‚Šåˆ‡ã‚Œã‚‹æ™‚ã ã‘ä½•ã‹ã‚’èµ·ã“ã—ã¾ã™ã€‚` },
    { reg: /Math\.random\(\)/, cat: "math", title: "ä¹±æ•°ï¼šé‹ä»»ã›", body: () => `ãƒ‡ã‚¿ãƒ©ãƒ¡ãªæ•°å­—ã‚’ä½œã‚Šã¾ã™ã€‚` },
    { reg: /Math\.floor\(([^)]+)\)/, cat: "math", title: "åˆ‡æ¨ï¼šæ•´ç†", body: () => `ç«¯æ•°ã‚’åˆ‡ã‚Šæ¨ã¦ã¦æ•´æ•°ã«ã—ã¾ã™ã€‚` },
    { reg: /Math\.ceil\(([^)]+)\)/, cat: "math", title: "åˆ‡ä¸Šï¼šæ•´ç†", body: () => `ç«¯æ•°ã‚’åˆ‡ã‚Šä¸Šã’ã¦æ•´æ•°ã«ã—ã¾ã™ã€‚` },
    { reg: /Math\.round\(([^)]+)\)/, cat: "math", title: "å››æ¨ï¼šæ•´ç†", body: () => `è¿‘ã„æ–¹ã®æ•´æ•°ã«ä¸¸ã‚ã¾ã™ã€‚` },
    { reg: /Math\.max\(([^)]+)\)/, cat: "math", title: "æ¯”è¼ƒï¼šæœ€å¤§å€¤", body: () => `ä¸€ç•ªãƒ‡ã‚«ã„æ•°ã‚’é¸ã³å‡ºã—ã¾ã™ã€‚` },
    { reg: /Math\.min\(([^)]+)\)/, cat: "math", title: "æ¯”è¼ƒï¼šæœ€å°å€¤", body: () => `ä¸€ç•ªã¡ã£ã½ã‘ãªãƒ¤ãƒ„ã‚’é¸ã³å‡ºã—ã¾ã™ã€‚` },
    { reg: /Math\.pow\(([^)]+)\)/, cat: "math", title: "è¨ˆç®—ï¼šä¹—æ•°", body: () => `ä½•å€ã«ã‚‚æ›ã‘åˆã‚ã›ã‚‹è¨ˆç®—ã‚’ã—ã¾ã™ã€‚` },
    { reg: /Math\.sqrt\(([^)]+)\)/, cat: "math", title: "è¨ˆç®—ï¼šãƒ«ãƒ¼ãƒˆ", body: () => `äºŒä¹—ã®é€†ã€ãƒ«ãƒ¼ãƒˆã®è¨ˆç®—ã‚’ã—ã¾ã™ã€‚` },
    { reg: /Math\.abs\(([^)]+)\)/, cat: "math", title: "è¨ˆç®—ï¼šçµ¶å¯¾å€¤", body: () => `å¼·åˆ¶çš„ã«ãƒ—ãƒ©ã‚¹ã®è·é›¢ã«ç›´ã—ã¾ã™ã€‚` },
    { reg: /parseInt\(([^,)]+)/, cat: "math", title: "å‹å¤‰ï¼šæ•°å­—ã¸", body: () => `æ–‡å­—ã‚’è¨ˆç®—ãŒã§ãã‚‹æ•°å€¤ã«å¤‰ãˆã¾ã™ã€‚` },
    { reg: /parseFloat\(([^)]+)\)/, cat: "math", title: "å‹å¤‰ï¼šå°æ•°ã¸", body: () => `æ–‡å­—ã‚’å°æ•°ç‚¹ä»˜ãã®æ•°å€¤ã¨ã—ã¦èª­ã¿å–ã‚Šã¾ã™ã€‚` },
    { reg: /isNaN\(([^)]+)\)/, cat: "math", title: "ç¢ºèªï¼šéæ•°å­—", body: () => `è¨ˆç®—ä¸èƒ½ãªã‚´ãƒŸã§ã¯ãªã„ã‹åˆ¤å®šã—ã¾ã™ã€‚` },
    { reg: /isFinite\(([^)]+)\)/, cat: "math", title: "ç¢ºèªï¼šæœ‰é™æ•°", body: () => `æ•°ãŒã¾ã¨ã‚‚ãªç¯„å›²å†…ã‹ã‚’ç¢ºã‹ã‚ã¾ã™ã€‚` },
    { reg: /Number\.isInteger\(([^)]+)\)/, cat: "math", title: "ç¢ºèªï¼šæ•´æ•°ã‹", body: () => `ã‚­ãƒªã®è‰¯ã„æ•°ã‹ã©ã†ã‹ã‚’èª¿ã¹ã¾ã™ã€‚` },
    { reg: /\.toFixed\((\d+)\)/, cat: "math", title: "æ•´å½¢ï¼šæ¡æ•°å›ºå®š", body: (m) => `å°æ•°ç‚¹ä»¥ä¸‹ã‚’ \`${m[1]}\` æ¡ã«å›ºå®šã—ã¾ã™ã€‚` },

    // --- 121-160: æ¡ä»¶ãƒ»åˆ¤å®šãƒ»ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ ---
    { reg: /localStorage\.setItem\(['"]([^'"]+)['"]/, cat: "dom", title: "ä¿å­˜ï¼šãƒ¡ãƒ¢ãƒª", body: (m) => `ãƒ–ãƒ©ã‚¦ã‚¶ã« \`${m[1]}\` åã§æ°¸ç¶šä¿ç®¡ã—ã¾ã™ã€‚` },
    { reg: /localStorage\.getItem\(['"]([^'"]+)['"]/, cat: "dom", title: "èª­è¾¼ï¼šãƒ¡ãƒ¢ãƒª", body: (m) => `ä¿å­˜ã•ã‚ŒãŸ \`${m[1]}\` ã‚’å–ã‚Šå‡ºã—ã¾ã™ã€‚` },
    { reg: /localStorage\.removeItem\(['"]([^'"]+)['"]/, cat: "dom", title: "æ¶ˆå»ï¼šãƒ¡ãƒ¢ãƒª", body: (m) => `ä¸è¦ãª \`${m[1]}\` ã‚’æ¨ã¦ã¾ã™ã€‚` },
    { reg: /sessionStorage/, cat: "dom", title: "ä¿å­˜ï¼šä¸€æ™‚ãƒ¡ãƒ¢ãƒª", body: () => `ã‚¿ãƒ–ã‚’é–‰ã˜ã‚‹ã¾ã§ä¸€æ™‚ãƒ¡ãƒ¢ã—ã¾ã™ã€‚` },
    { reg: /Cookies\./, cat: "dom", title: "ä¿å­˜ï¼šã‚¯ãƒƒã‚­ãƒ¼", body: () => `æœŸé™ä»˜ãã®å…±æœ‰ãƒ¡ãƒ¢å¸³ã«æ›¸ãã¾ã™ã€‚` },
    { reg: /if\s*\(([^)]+)\)\s*\{/, cat: "logic", title: "æ¡ä»¶ï¼šã‚‚ã—", body: (m) => `ã‚‚ã— \`${m[1]}\` ãªã‚‰é€²ã‚€åˆ†å²ç‚¹ã§ã™ã€‚` },
    { reg: /else\s*\{/, cat: "logic", title: "æ¡ä»¶ï¼šã•ã‚‚ãªãã°", body: () => `ã€Œã‚‚ã—ã€ãŒãƒ€ãƒ¡ã ã£ãŸæ™‚ã®é“ã§ã™ã€‚` },
    { reg: /switch\s*\(([^)]+)\)/, cat: "logic", title: "å¤šå²ï¼šåˆ†å²", body: () => `ä¸­èº«ã«ã‚ˆã£ã¦ã„ãã¤ã‚‚ã®é“ã¸æŒ¯ã‚Šåˆ†ã‘ã¾ã™ã€‚` },
    { reg: /for\s*\(([^)]+)\)/, cat: "logic", title: "ç¹°è¿”ï¼šãƒ«ãƒ¼ãƒ—", body: () => `ãƒ«ãƒ¼ãƒ«ã«å¾“ã„åŒã˜äº‹ã‚’ç¹°ã‚Šè¿”ã—ã¾ã™ã€‚` },
    { reg: /forEach\(/, cat: "logic", title: "ç¹°è¿”ï¼šä¸€æ‹¬å‡¦ç†", body: () => `ãƒªã‚¹ãƒˆå…¨å“¡ã«é †ã«åŒã˜å‡¦ç†ã‚’ã—ã¾ã™ã€‚` },
    { reg: /\.map\(/, cat: "logic", title: "åŠ å·¥ï¼šä¸€æ‹¬å¤‰æ›", body: () => `ãƒªã‚¹ãƒˆå…¨å“¡ã‚’æ–°ã—ã„å§¿ã«ä½œã‚Šå¤‰ãˆã¾ã™ã€‚` },
    { reg: /\.filter\(/, cat: "logic", title: "æŠ½å‡ºï¼šçµã‚Šè¾¼ã¿", body: () => `æ¡ä»¶ã«åˆã†ã‚¨ãƒªãƒ¼ãƒˆã ã‘æ®‹ã—ã¾ã™ã€‚` },
    { reg: /try\s*\{/, cat: "security", title: "æŒ‘æˆ¦ï¼šå±é™ºå‡¦ç†", body: () => `å¤±æ•—è¦šæ‚Ÿã§å±é™ºåœ°å¸¯ã¸çªå…¥ã—ã¾ã™ã€‚` },
    { reg: /throw\s+new\s+Error\(['"]([^'"]+)['"]\)/, cat: "security", title: "è­¦å‘Šï¼šå¼·åˆ¶ã‚¨ãƒ©ãƒ¼", body: (m) => `\`${m[1]}\` ã¨å«ã‚“ã§ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’æ­¢ã‚ã¾ã™ã€‚` },

    // --- 161-200: ãã®ä»– ---
    { reg: /console\.log\(([^)]+)\)/, cat: "logic", title: "å ±å‘Šï¼šè¨˜éŒ²", body: () => `è£ç”»é¢ã«ã“ã£ãã‚Šä¸­èº«ã‚’ãƒ¡ãƒ¢ã—ã¾ã™ã€‚` },
    { reg: /setTimeout\([^,]+,\s*(\d+)\)/, cat: "logic", title: "ã‚¿ã‚¤ãƒãƒ¼ï¼šäºˆç´„", body: (m) => `\`${m[1]}\` ãƒŸãƒªç§’å¾…ã£ã¦å®Ÿè¡Œã—ã¾ã™ã€‚` },
    { reg: /setInterval\([^,]+,\s*(\d+)\)/, cat: "logic", title: "ã‚¿ã‚¤ãƒãƒ¼ï¼šå®šæœŸ", body: (m) => `\`${m[1]}\` ãƒŸãƒªç§’ãŠãã«ç¹°ã‚Šè¿”ã—ã¾ã™ã€‚` },
    { reg: /\.split\(['"]([^'"]*)['"]\)/, cat: "logic", title: "åˆ‡æ–­ï¼šæ–‡å­—åˆ†è§£", body: () => `æ–‡å­—ã‚’ãƒãƒ©ãƒãƒ©ã®ãƒªã‚¹ãƒˆã«ã—ã¾ã™ã€‚` },
    { reg: /\.join\(['"]([^'"]*)['"]\)/, cat: "logic", title: "çµåˆï¼šæ–‡å­—åˆä½“", body: () => `ãƒãƒ©ãƒãƒ©ã®æ–‡å­—ã‚’ä¸€ã¤ã«ç¹‹ãã¾ã™ã€‚` },
    { reg: /\.replace\(([^,]+),\s*([^)]+)\)/, cat: "logic", title: "ç½®æ›ï¼šå…¥ã‚Œæ›¿ãˆ", body: () => `ç‰¹å®šã®æ–‡å­—ã‚’æ›¸ãæ›ãˆã¾ã™ã€‚` },
    { reg: /preventDefault\(\)/, cat: "security", title: "é˜»æ­¢ï¼šæ¨™æº–å‹•ä½œ", body: () => `ãƒ–ãƒ©ã‚¦ã‚¶ã®å‹æ‰‹ãªå‹•ãã‚’æ­¢ã‚ã¾ã™ã€‚` },
    { reg: /eval\(/, cat: "security", title: "å±é™ºï¼šå‹•çš„å®Ÿè¡Œ", body: () => `æ–‡å­—ã‚’ç„¡ç†ã‚„ã‚Šå®Ÿè¡Œã™ã‚‹å±é™ºãªæŠ€ã§ã™ã€‚` },
    { reg: /debugger/, cat: "security", title: "èª¿æŸ»ï¼šãƒ‡ãƒãƒƒã‚°", body: () => `å¼·åˆ¶åœæ­¢ã•ã›ã¦ä¸­èº«ã‚’èª¿ã¹ã¾ã™ã€‚` },
    { reg: /'use strict'/, cat: "security", title: "å³æ ¼ï¼šãƒ¢ãƒ¼ãƒ‰", body: () => `å³ã—ã„ãƒŸã‚¹é˜²æ­¢ãƒ«ãƒ¼ãƒ«ã‚’é©ç”¨ã—ã¾ã™ã€‚` }
];

function analyze() {
    const js = document.getElementById('jsInput').value;
    const output = document.getElementById('mdOutput');
    let found = 0;
    let md = "# ğŸ›¡ JS Logic Analysis Report\n\n| Title | Category | Description |\n| :--- | :--- | :--- |\n";

    P.forEach(p => {
        const match = js.match(p.reg);
        if (match) {
            found++;
            const bodyText = p.body(match);
            md += `| ${p.title} | ${p.cat} | ${bodyText} |\n`;
        }
    });

    output.value = found > 0 ? md : "ãƒ­ã‚¸ãƒƒã‚¯ãŒæ¤œå‡ºã•ã‚Œã¾ã›ã‚“ã§ã—ãŸã€‚";
    document.getElementById('count').innerText = found;
}

document.getElementById('jsInput').addEventListener('input', analyze);
</script>
</body>
</html>